let currentPageInt=null;function updateActiveClass(){const pageButtons=document.querySelectorAll('input[name="pageNumber"]');for(const radio of pageButtons){const checkElementExists=()=>{const contentElement=document.getElementById(`content${radio.value}`);const summaryElement=document.getElementById(`summary${radio.value}`);if(contentElement&&summaryElement){handleActivePage(radio,contentElement,summaryElement);}else{setTimeout(checkElementExists,100);}};checkElementExists();const label=radio.closest('.pageRadio');label.classList.toggle('active',radio.checked);}}
function handleActivePage(radio,contentElement,summaryElement){const tutorContainer=document.getElementById('tutorContainer');const label=radio.closest('.pageRadio');if(radio.checked){const isSamePage=currentPageInt==radio.value;currentPageInt=radio.value;label.classList.add('active');document.querySelectorAll('input[name="pageNumber"]').forEach(radi=>{if(radio.value==radi.value){radi.checked=true;}});contentElement.classList.add('visible');summaryElement.classList.add('visible');if(!isSamePage){const pageFrame=document.getElementById('page-frame');pageFrame.scrollTop=0;}
if(!isMobile()){expandChaptersList();document.getElementById('table-of-contents-active').checked=true;}else{if(mobilePagesContainer.contains(label)){compressPageList();const mobileSelectedPage=document.getElementById("selected-page");const mobileDefaultSelected=document.getElementById("default-page");mobileDefaultSelected.className='hidden';mobileSelectedPage.textContent=currentPageInt==19?'Номер 19-21':`Номер ${currentPageInt}`;if(label.classList.contains('python')||label.classList.contains('excel')){mobileSelectedPage.className='';if(label.classList.contains('python')){mobileSelectedPage.classList.add('python');}
if(label.classList.contains('excel')){mobileSelectedPage.classList.add('excel');}}}
applyChapterTopic();}}else{label.classList.remove('active');contentElement?.classList.remove('visible');summaryElement?.classList.remove('visible');tutorContainer.classList.remove('visible');}}