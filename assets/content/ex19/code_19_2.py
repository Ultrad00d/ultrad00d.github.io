def f(s, m):
    # усл. победы — >= 128 камней
    if s >= 128: return m % 2 == 0
    if m == 0: return 0
    # в кучу можно добавить 1 камень, 5 или увеличить их на 2
    h = [f(s + 2, m - 1), f(s + 5, m - 1), f(s * 2, m - 1)]
    # про неудачный ход ничего не сказано, пишем else all()
    return any(h) if m % 2 == 1 else all(h)