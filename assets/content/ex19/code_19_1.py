def f(s, m):
    # условие победы — в куче >= 100 камней
    if s >= 100: return m % 2 == 0
    if m == 0: return 0
    # действия с камнями в куче
    h = [f(s + 1, m - 1), f(s + 2, m - 1), f(s * 3, m - 1)]

    # если ничего не сказано про неудачный ход:
    return any(h) if m % 2 == 1 else all(h)
    # если кто-то мог совершить неудачный ход:
    return any(h) if m % 2 == 1 else any(h)